<aside class="sidebar glass-panel">
    <h3>Filter by Continent</h3>
    <div class="continent-filters">
        <button class="filter-btn" [class.active]="selectedContinents.length === 0" (click)="clearFilter()">
            <span class="filter-name">All Continents</span>
            <span class="filter-count">{{ totalCount }}</span>
        </button>
        <button *ngFor="let continent of continents" class="filter-btn"
            [class.active]="isContinentSelected(continent.name)" (click)="toggleContinent(continent.name)">
            <span class="filter-name">{{ continent.name }}</span>
            <span class="filter-count">{{ continentCounts.get(continent.name) || 0 }}</span>
        </button>
    </div>
    <div class="keep-selection-toggle" (click)="toggleKeepSelection()">
        <span class="keep-label">Keep Selection</span>
        <div class="toggle-track" [class.active]="filterService.keepSelection">
            <div class="toggle-thumb"></div>
        </div>
    </div>
</aside>